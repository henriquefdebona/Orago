<!DOCTYPE html>
<ui:composition template="/WEB-INF/templates/template2.xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html" 
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<ui:define name="corpo">
 
<script type="text/javascript">
		PrimeFaces.locales['pt'] = {
		                closeText: 'Fechar',
		                prevText: 'Anterior',
		                nextText: 'Próximo',
		                currentText: 'Começo',
		                monthNames: ['Janeiro','Fevereiro','Março','Abril','Maio','Junho','Julho','Agosto','Setembro','Outubro','Novembro','Dezembro'],
		                monthNamesShort: ['Jan','Fev','Mar','Abr','Mai','Jun', 'Jul','Ago','Set','Out','Nov','Dez'],
		                dayNames: ['Domingo','Segunda','Terça','Quarta','Quinta','Sexta','Sábado'],
		                dayNamesShort: ['Dom','Seg','Ter','Qua','Qui','Sex','Sáb'],
		                dayNamesMin: ['D','S','T','Q','Q','S','S'],
		                weekHeader: 'Semana',
		                firstDay: 1,
		                isRTL: false,
		                showMonthAfterYear: false,
		                yearSuffix: '',
		                timeOnlyTitle: 'Só Horas',
		                timeText: 'Tempo',
		                hourText: 'Hora',
		                minuteText: 'Minuto',
		                secondText: 'Segundo',
		                currentText: 'Data Atual',
		                ampm: false,
		                month: 'Mês',
		                week: 'Semana',
		                day: 'Dia',
		                allDayText : 'Todo Dia'
		            };
</script>
 
<h:form>
    <p:growl id="messages" showDetail="true" />
      
    <h:panelGrid columnClasses="value">
        <h3 style="margin-top: 0">Agenda de Eventos</h3>
        <p:schedule id="schedule" value="#{CadAgendaController.modeloEventoAgenda}" widgetVar="myschedule" timeZone="GMT+3" locale="pt">
 
            <p:ajax event="dateSelect" listener="#{CadAgendaController.onDateSelect}" update="eventDetails" oncomplete="PF('eventDialog').show();" />
            <p:ajax event="eventSelect" listener="#{CadAgendaController.onEventSelect}" update="eventDetails" oncomplete="PF('eventDialog').show();" />
            <p:ajax event="eventMove" listener="#{CadAgendaController.onEventMove}" update="messages" />
            <p:ajax event="eventResize" listener="#{CadAgendaController.onEventResize}" update="messages" />
 
        </p:schedule>
    </h:panelGrid>
     
    <p:dialog widgetVar="eventDialog" header="Detalhes do Evento" showEffect="clip" hideEffect="clip">
        <h:panelGrid id="eventDetails" columns="2">
            <p:outputLabel 
            	for="title"
            	value="Título:" 
            />
            <p:inputText
            	id="title"
            	value="#{CadAgendaController.agd.titulo}"
            	required="true"
            />
 
            <p:outputLabel
            	for="from"
            	value="Início:"
            />
            <p:calendar 
            	id="from"
            	value="#{CadAgendaController.agd.dataInicio}"
            	timeZone="GMT+3"
            	pattern="dd/MM/yyyy HH:mm"
            />
 
            <p:outputLabel
            	for="to"
            	value="Fim:"
            />
            <p:calendar
            	id="to"
            	value="#{CadAgendaController.agd.dataFim}"
            	timeZone="GMT+3"
            	pattern="dd/MM/yyyy HH:mm"
            />
 
            <p:outputLabel
            	for="allDay"
            	value="Dia todo:"
            />
            <h:selectBooleanCheckbox
            	id="allDay"
            	value="#{CadAgendaController.agd.diaTodo}"
            />
 
            <p:commandButton
            	type="reset"
            	value="Limpar"
            	action="#{CadAgendaController.exclui}"
            />
            <p:commandButton
            	id="addButton"
            	value="Salvar"
            	action="#{CadAgendaController.addEvento}"
            	oncomplete="PF('eventDialog').hide();PF('myschedule').update();"
            />
        </h:panelGrid>
    </p:dialog>    
</h:form>
</ui:define>
</ui:composition>